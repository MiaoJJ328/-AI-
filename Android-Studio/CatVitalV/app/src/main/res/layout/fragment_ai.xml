<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:id="@+id/fragmentai"
    tools:context=".fragment.aiFragment">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:padding="8dp">

        <!-- 环境参数卡片 -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_margin="8dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="当前环境参数"
                    android:textColor="#333333"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="12dp"/>

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:layout_marginBottom="8dp">

                    <ImageView
                        android:layout_width="48dp"
                        android:layout_height="48dp"
                        android:src="@drawable/ic_temperature"
                        android:layout_marginEnd="12dp"/>

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="温度"
                            android:textColor="#666666"
                            android:textSize="14sp"/>

                        <TextView
                            android:id="@+id/tv_temperature"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="25.5°C"
                            android:textColor="#333333"
                            android:textSize="24sp"/>
                    </LinearLayout>
                </LinearLayout>

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:layout_marginBottom="8dp">

                    <ImageView
                        android:layout_width="48dp"
                        android:layout_height="48dp"
                        android:src="@drawable/ic_humidity"
                        android:layout_marginEnd="12dp"/>

                    <LinearLayout
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:orientation="vertical">

                        <TextView
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="湿度"
                            android:textColor="#666666"
                            android:textSize="14sp"/>

                        <TextView
                            android:id="@+id/tv_humidity"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"
                            android:text="65%"
                            android:textColor="#333333"
                            android:textSize="24sp"/>
                    </LinearLayout>
                </LinearLayout>

            </LinearLayout>
        </androidx.cardview.widget.CardView>






        <!-- 数据图表卡片 -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="400dp"
            android:layout_margin="8dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp">
<!--            <LinearLayout-->
<!--                android:layout_width="match_parent"-->
<!--                android:layout_height="match_parent"-->
<!--                android:orientation="vertical"-->
<!--                android:padding="8dp">-->

<!--                <TextView-->
<!--                    android:layout_width="match_parent"-->
<!--                    android:layout_height="wrap_content"-->
<!--                    android:text="环境数据趋势"-->
<!--                    android:textColor="#333333"-->
<!--                    android:textSize="18sp"-->
<!--                    android:textStyle="bold"-->
<!--                    android:layout_marginBottom="8dp"/>-->

<!--                <com.github.mikephil.charting.charts.BarChart-->
<!--                    android:id="@+id/bar_chart"-->
<!--                    android:layout_width="match_parent"-->
<!--                    android:layout_height="0dp"-->
<!--                    android:layout_weight="1"/>-->
<!--            </LinearLayout>-->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                android:orientation="vertical"
                android:padding="8dp">

                <!-- 标题 -->
                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="综合数据统计"
                    android:textColor="#333333"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="8dp"/>

                <!-- 卡片容器（添加滚动支持） -->
<!--                <ScrollView-->
<!--                    android:layout_width="match_parent"-->
<!--                    android:layout_height="0dp"-->
<!--                    android:layout_weight="1">  &lt;!&ndash; 关键！ &ndash;&gt;-->

                <androidx.core.widget.NestedScrollView
                    android:layout_width="match_parent"
                    android:layout_height="0dp"
                    android:layout_weight="1">

                    <LinearLayout
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:orientation="vertical">

                        <!-- 心率监测卡片 -->
                        <androidx.cardview.widget.CardView
                            android:layout_width="match_parent"
                            android:layout_height="300dp"
                            android:layout_marginStart="16dp"
                            android:layout_marginEnd="16dp"
                            android:layout_marginTop="16dp"
                            android:layout_marginBottom="8dp"
                            app:cardCornerRadius="16dp"
                            app:cardElevation="8dp"
                            app:cardBackgroundColor="@android:color/white">

                            <LinearLayout
                                android:layout_width="match_parent"
                                android:layout_height="match_parent"
                                android:orientation="vertical"
                                android:padding="16dp">

                                <!-- 标题和当前值 -->
                                <LinearLayout
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:orientation="horizontal"
                                    android:gravity="center_vertical">

                                    <ImageView
                                        android:layout_width="24dp"
                                        android:layout_height="24dp"
                                        android:src="@drawable/ic_heart_rate"/>

                                    <TextView
                                        android:layout_width="0dp"
                                        android:layout_height="wrap_content"
                                        android:layout_weight="1"
                                        android:layout_marginStart="8dp"
                                        android:text="心率监测"
                                        android:textColor="#333333"
                                        android:textSize="18sp"
                                        android:textStyle="bold"/>

                                    <TextView
                                        android:id="@+id/heartRateValue"
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:text="--"
                                        android:textColor="#FF5252"
                                        android:textSize="24sp"
                                        android:textStyle="bold"/>

                                    <TextView
                                        android:layout_width="wrap_content"
                                        android:layout_height="wrap_content"
                                        android:layout_marginStart="4dp"
                                        android:text="BPM"
                                        android:textColor="#666666"
                                        android:textSize="14sp"/>
                                </LinearLayout>

                                <com.example.catvital.Chart.HeartRateBarChart
                                    android:id="@+id/heartRateChart"
                                    android:layout_width="match_parent"
                                    android:layout_height="200dp"
                                    android:layout_marginTop="16dp"/>
                            </LinearLayout>
                        </androidx.cardview.widget.CardView>

                        <!-- 体温监测卡片 -->
                        <androidx.cardview.widget.CardView
                            android:layout_width="match_parent"
                            android:layout_height="300dp"
                            android:layout_marginStart="16dp"
                            android:layout_marginEnd="16dp"
                            android:layout_marginTop="8dp"
                            android:layout_marginBottom="8dp"
                            app:cardCornerRadius="16dp"
                            app:cardElevation="8dp"
                            app:cardBackgroundColor="@android:color/white">

                            <LinearLayout
                                android:layout_width="match_parent"
                                android:layout_height="match_parent"
                                android:orientation="vertical"
                                android:padding="16dp">

                                <LinearLayout
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:orientation="horizontal"
                                    android:gravity="center_vertical">

                                    <ImageView
                                        android:layout_width="24dp"
                                        android:layout_height="24dp"
                                        android:src="@drawable/ic_temperature"/>

                                    <TextView
                                        android:layout_width="0dp"
                                        android:layout_height="wrap_content"
                                        android:layout_weight="1"
                                        android:layout_marginStart="8dp"
                                        android:text="体温统计"
                                        android:textColor="#333333"
                                        android:textSize="18sp"
                                        android:textStyle="bold"/>

<!--                                    <TextView-->
<!--                                        android:id="@+id/temperatureValue"-->
<!--                                        android:layout_width="wrap_content"-->
<!--                                        android:layout_height="wrap_content"-->
<!--                                        android:text="&#45;&#45;"-->
<!--                                        android:textColor="#FFA726"-->
<!--                                        android:textSize="24sp"-->
<!--                                        android:textStyle="bold"/>-->

<!--                                    <TextView-->
<!--                                        android:layout_width="wrap_content"-->
<!--                                        android:layout_height="wrap_content"-->
<!--                                        android:layout_marginStart="4dp"-->
<!--                                        android:text="°C"-->
<!--                                        android:textColor="#666666"-->
<!--                                        android:textSize="14sp"/>-->
                                </LinearLayout>

                                <com.example.catvital.Chart.TempBarChart
                                    android:id="@+id/tempChart"
                                    android:layout_width="match_parent"
                                    android:layout_height="200dp"
                                    android:layout_marginTop="16dp"/>
                            </LinearLayout>
                        </androidx.cardview.widget.CardView>

                        <!-- 饮食监测卡片 -->
                        <androidx.cardview.widget.CardView
                            android:layout_width="match_parent"
                            android:layout_height="300dp"
                            android:layout_marginStart="16dp"
                            android:layout_marginEnd="16dp"
                            android:layout_marginTop="8dp"
                            android:layout_marginBottom="8dp"
                            app:cardCornerRadius="16dp"
                            app:cardElevation="8dp"
                            app:cardBackgroundColor="@android:color/white">

                            <LinearLayout
                                android:layout_width="match_parent"
                                android:layout_height="match_parent"
                                android:orientation="vertical"
                                android:padding="16dp"/>

                                <LinearLayout
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:orientation="horizontal"
                                    android:gravity="center_vertical">

                                    <ImageView
                                        android:layout_width="24dp"
                                        android:layout_height="24dp"
                                        android:src="@drawable/ic_food"/>

                                    <TextView
                                        android:layout_width="0dp"
                                        android:layout_height="wrap_content"
                                        android:layout_weight="1"
                                        android:layout_marginStart="8dp"
                                        android:text="饮食统计"
                                        android:textColor="#333333"
                                        android:textSize="18sp"
                                        android:textStyle="bold"/>

<!--                                    <TextView-->
<!--                                        android:id="@+id/foodIntakeValue"-->
<!--                                        android:layout_width="wrap_content"-->
<!--                                        android:layout_height="wrap_content"-->
<!--                                        android:text="&#45;&#45;"-->
<!--                                        android:textColor="#4CAF50"-->
<!--                                        android:textSize="24sp"-->
<!--                                        android:textStyle="bold"/>-->

<!--                                    <TextView-->
<!--                                        android:layout_width="wrap_content"-->
<!--                                        android:layout_height="wrap_content"-->
<!--                                        android:layout_marginStart="4dp"-->
<!--                                        android:text="g"-->
<!--                                        android:textColor="#666666"-->
<!--                                        android:textSize="14sp"/>-->
                                </LinearLayout>

                            <com.example.catvital.Chart.FoodBarChart
                                android:id="@+id/foodChart"
                                android:layout_width="match_parent"
                                android:layout_height="200dp"
                                android:layout_marginTop="16dp"/>
                        </androidx.cardview.widget.CardView>

                        <!-- 排泄监测卡片 -->
                        <androidx.cardview.widget.CardView
                            android:layout_width="match_parent"
                            android:layout_height="300dp"
                            android:layout_marginStart="16dp"
                            android:layout_marginEnd="16dp"
                            android:layout_marginTop="8dp"
                            android:layout_marginBottom="16dp"
                            app:cardCornerRadius="16dp"
                            app:cardElevation="8dp"
                            app:cardBackgroundColor="@android:color/white">

                            <LinearLayout
                                android:layout_width="match_parent"
                                android:layout_height="match_parent"
                                android:orientation="vertical"
                                android:padding="16dp">

                                <LinearLayout
                                    android:layout_width="match_parent"
                                    android:layout_height="wrap_content"
                                    android:orientation="horizontal"
                                    android:gravity="center_vertical">

                                    <ImageView
                                        android:layout_width="24dp"
                                        android:layout_height="24dp"
                                        android:src="@drawable/ic_toilet"/>

                                    <TextView
                                        android:layout_width="0dp"
                                        android:layout_height="wrap_content"
                                        android:layout_weight="1"
                                        android:layout_marginStart="8dp"
                                        android:text="厕所次数统计"
                                        android:textColor="#333333"
                                        android:textSize="18sp"
                                        android:textStyle="bold"/>

<!--                                    <TextView-->
<!--                                        android:id="@+id/excretionValue"-->
<!--                                        android:layout_width="wrap_content"-->
<!--                                        android:layout_height="wrap_content"-->
<!--                                        android:text="&#45;&#45;"-->
<!--                                        android:textColor="#9C27B0"-->
<!--                                        android:textSize="24sp"-->
<!--                                        android:textStyle="bold"/>-->

<!--                                    <TextView-->
<!--                                        android:layout_width="wrap_content"-->
<!--                                        android:layout_height="wrap_content"-->
<!--                                        android:layout_marginStart="4dp"-->
<!--                                        android:text="次"-->
<!--                                        android:textColor="#666666"-->
<!--                                        android:textSize="14sp"/>-->
                                </LinearLayout>

                                <com.example.catvital.Chart.ExcretionBarChart
                                    android:id="@+id/excretionChart"
                                    android:layout_width="match_parent"
                                    android:layout_height="200dp"
                                    android:layout_marginTop="16dp"/>
                            </LinearLayout>
                        </androidx.cardview.widget.CardView>

                    </LinearLayout>
<!--                </ScrollView>-->
            </androidx.core.widget.NestedScrollView>
            </LinearLayout>
        </androidx.cardview.widget.CardView>




        <!-- AI健康分析卡片 -->
        <androidx.cardview.widget.CardView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_margin="8dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="AI健康分析"
                    android:textColor="#333333"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="12dp"/>

<!--                <ImageView-->
<!--                    android:layout_width="80dp"-->
<!--                    android:layout_height="80dp"-->
<!--                    android:src="@drawable/ic_health"-->
<!--                    android:layout_gravity="center_horizontal"-->
<!--                    android:layout_marginBottom="12dp"/>-->

                <TextView
                    android:id="@+id/tv_health_status"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="健康状况：亚健康"
                    android:textColor="#4CAF50"
                    android:textSize="16sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="8dp"
                    android:gravity="center"/>

                <TextView
                    android:id="@+id/tv_health_analysis"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="  当前健康状态‌：综合以上数据，宠物可能处于亚健康状态，体温偏低和进食量不足可能是需要关注的重点。

‌建议‌：
体温调节‌：确保猫咪所处的环境温暖舒适，避免暴露在过冷的环境中。如果猫咪持续体温偏低，建议咨询兽医。

‌增加食欲‌：尝试更换不同口味或品牌的猫粮，以刺激猫咪的食欲。也可以考虑添加一些猫咪喜欢的湿粮或零食来增加其食物摄入量。

‌观察排泄习惯‌：继续观察猫咪的排泄习惯，如果频率有明显变化或出现异常（如血尿、便秘等），应及时就医。

‌定期体检‌：即使猫咪目前看起来没有明显的健康问题，也建议定期带其去兽医处进行体检，以便及时发现并处理潜在的健康问题。

从正常健康的猫咪当中去分析，您的猫咪在体温和进食量方面与理想状态有一定差距。通过调整环境温度、改善饮食和定期观察，可以帮助猫咪恢复并维持更好的健康状态。"
                    android:textColor="#666666"
                    android:textSize="14sp"/>
            </LinearLayout>
        </androidx.cardview.widget.CardView>



        <androidx.cardview.widget.CardView
            xmlns:android="http://schemas.android.com/apk/res/android"
            xmlns:app="http://schemas.android.com/apk/res-auto"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:layout_margin="8dp"
            app:cardCornerRadius="12dp"
            app:cardElevation="4dp">

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical"
                android:padding="16dp">

                <TextView
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:text="宠物健康管家"
                    android:textColor="#333333"
                    android:textSize="18sp"
                    android:textStyle="bold"
                    android:layout_marginBottom="12dp"/>

                <ScrollView
                    android:id="@+id/scroll_chat"
                    android:layout_width="match_parent"
                    android:layout_height="200dp"
                    android:background="#f5f5f5"
                    android:padding="8dp">

                    <TextView
                        android:id="@+id/tvResult"
                        android:layout_width="match_parent"
                        android:layout_height="wrap_content"
                        android:textColor="#424242"
                        android:textSize="14sp"
                        android:lineSpacingMultiplier="1.2"/>
                </ScrollView>

                <LinearLayout
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"
                    android:orientation="horizontal"
                    android:layout_marginTop="12dp">

                    <EditText
                        android:id="@+id/etInput"
                        android:layout_width="0dp"
                        android:layout_height="wrap_content"
                        android:layout_weight="1"
                        android:hint="输入您的问题..."
                        android:inputType="textCapSentences|textMultiLine"
                        android:imeOptions="actionSend"
                        android:maxLines="3"/>

                    <Button
                        android:id="@+id/btnSend"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_marginStart="8dp"
                        android:text="发送"
                        android:backgroundTint="#4CAF50"
                        android:textColor="@android:color/white"/>
                </LinearLayout>
            </LinearLayout>
        </androidx.cardview.widget.CardView>
        <!-- AI对话卡片 -->
<!--        <androidx.cardview.widget.CardView-->
<!--            android:layout_width="match_parent"-->
<!--            android:layout_height="wrap_content"-->
<!--            android:layout_margin="8dp"-->
<!--            app:cardCornerRadius="12dp"-->
<!--            app:cardElevation="4dp">-->

<!--            <LinearLayout-->
<!--                android:layout_width="match_parent"-->
<!--                android:layout_height="wrap_content"-->
<!--                android:orientation="vertical"-->
<!--                android:padding="16dp">-->

<!--                <TextView-->
<!--                    android:layout_width="match_parent"-->
<!--                    android:layout_height="wrap_content"-->
<!--                    android:text="AI宠物健康助手"-->
<!--                    android:textColor="#333333"-->
<!--                    android:textSize="18sp"-->
<!--                    android:textStyle="bold"-->
<!--                    android:layout_marginBottom="12dp"/>-->

<!--                &lt;!&ndash; 对话显示区域 &ndash;&gt;-->
<!--                <ScrollView-->
<!--                    android:id="@+id/scroll_chat"-->
<!--                    android:layout_width="match_parent"-->
<!--                    android:layout_height="200dp"-->
<!--                    android:background="#f5f5f5"-->
<!--                    android:padding="8dp">-->

<!--                    <LinearLayout-->
<!--                        android:id="@+id/ll_chat_container"-->
<!--                        android:layout_width="match_parent"-->
<!--                        android:layout_height="wrap_content"-->
<!--                        android:orientation="vertical"/>-->
<!--                </ScrollView>-->

<!--                &lt;!&ndash; 输入区域 &ndash;&gt;-->
<!--                <LinearLayout-->
<!--                    android:layout_width="match_parent"-->
<!--                    android:layout_height="wrap_content"-->
<!--                    android:orientation="horizontal"-->
<!--                    android:layout_marginTop="12dp">-->

<!--                    <EditText-->
<!--                        android:id="@+id/et_message"-->
<!--                        android:layout_width="0dp"-->
<!--                        android:layout_height="wrap_content"-->
<!--                        android:layout_weight="1"-->
<!--                        android:hint="输入您的问题..."-->
<!--                        android:inputType="text"-->
<!--                        android:maxLines="3"/>-->

<!--                    <Button-->
<!--                        android:id="@+id/btn_send"-->
<!--                        android:layout_width="wrap_content"-->
<!--                        android:layout_height="wrap_content"-->
<!--                        android:text="发送"-->
<!--                        android:layout_marginStart="8dp"-->
<!--                        android:backgroundTint="#4CAF50"-->
<!--                        android:textColor="@android:color/white"/>-->
<!--                </LinearLayout>-->
<!--            </LinearLayout>-->
<!--        </androidx.cardview.widget.CardView>-->
    </LinearLayout>

</ScrollView>